# infiniStudio-main æ¶æ„å…¨æ™¯

## 1. å­ç³»ç»ŸèŒè´£

`infiniStudio-main` ç›®å½•æ˜¯ **Infini AI æ¨¡å‹æœåŠ¡ç®¡ç†å¹³å°çš„å®Œæ•´åº”ç”¨ç³»ç»Ÿ**,æä¾›äº†ä¸€ä¸ªåˆ†å¸ƒå¼çš„ AI æ¨¡å‹éƒ¨ç½²ã€ç®¡ç†å’Œç›‘æ§è§£å†³æ–¹æ¡ˆã€‚è¯¥ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„,é€šè¿‡ Web ç•Œé¢å®ç°å¯¹å¤šå°ç‰©ç†æœåŠ¡å™¨ä¸Š AI æ¨¡å‹æœåŠ¡çš„ç»Ÿä¸€ç®¡ç†å’Œè°ƒåº¦ã€‚

è¯¥å¹³å°çš„æ ¸å¿ƒåŠŸèƒ½åŸŸåŒ…æ‹¬:
- **ç¡¬ä»¶èµ„æºç®¡ç†**: ç®¡ç†å¤šå“ç‰ŒåŠ é€Ÿå¡(å¦‚ NVIDIA GPUã€æ˜†ä»‘èŠ¯ç‰‡ç­‰)çš„è§„æ ¼ä¿¡æ¯,ç»´æŠ¤ç‰©ç†æœåŠ¡å™¨é›†ç¾¤
- **æ¨¡å‹æœåŠ¡éƒ¨ç½²**: æ”¯æŒå°† AI æ¨¡å‹éƒ¨ç½²åˆ°å¤šå°æœåŠ¡å™¨ä¸Š,æä¾›å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€ç›‘æ§ç­‰ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **è¿œç¨‹è¿ç»´èƒ½åŠ›**: é€šè¿‡ Web SSH ç»ˆç«¯å®ç°å¯¹æœåŠ¡å™¨çš„è¿œç¨‹æ“ä½œå’Œå®æ—¶ç›‘æ§
- **æœåŠ¡æµ‹è¯•ä¸éªŒè¯**: æä¾›èŠå¤©ç•Œé¢æµ‹è¯•å·²éƒ¨ç½²çš„ AI æœåŠ¡,æ”¯æŒæµå¼å“åº”
- **è®¡åˆ’ä»»åŠ¡è°ƒåº¦**: æ”¯æŒå®šæ—¶æ‰§è¡Œç®¡ç†å‘½ä»¤,å®ç°è‡ªåŠ¨åŒ–è¿ç»´

ç³»ç»Ÿæ¶æ„ç‰¹ç‚¹:
- **ä¸‰å±‚æ¶æ„**: frontend(Vue 3 SPA) â†’ backend(Flask + SocketIO) â†’ client(Service Agent)
- **åˆ†å¸ƒå¼éƒ¨ç½²**: backend é›†ä¸­ç®¡ç†,client agent è¿è¡Œåœ¨å„ä¸ªç‰©ç†æœåŠ¡å™¨ä¸Š
- **å®æ—¶é€šä¿¡**: åŸºäº WebSocket çš„ SSH ç»ˆç«¯å’ŒæœåŠ¡çŠ¶æ€æ¨é€
- **è½»é‡çº§è®¾è®¡**: ä½¿ç”¨ SQLite æŒä¹…åŒ–,æ— éœ€å¤æ‚çš„åŸºç¡€è®¾æ–½ä¾èµ–

## 2. æ¨¡å—å¯¼èˆª (Module Navigation)

* **ğŸ“‚ backend**
    * *åŠŸèƒ½*: Flask + SocketIO åç«¯æœåŠ¡å™¨,æä¾› RESTful API å’Œ WebSocket å®æ—¶é€šä¿¡
    * *èŒè´£*: ä½œä¸ºç³»ç»Ÿçš„ä¸­å¤®æ§åˆ¶èŠ‚ç‚¹,ç®¡ç†æœåŠ¡å™¨æ³¨å†Œè¡¨ã€æœåŠ¡å…ƒæ•°æ®ã€èŠå¤©å†å²ç­‰æ ¸å¿ƒæ•°æ®,é€šè¿‡ SSH è¿œç¨‹æ§åˆ¶å„å°æœåŠ¡å™¨,ä»£ç†èŠå¤©è¯·æ±‚åˆ°ç›®æ ‡æœåŠ¡,ç»´æŠ¤æœåŠ¡çŠ¶æ€åŒæ­¥æœº
    * *æŠ€æœ¯æ ˆ*: Flask 3.0.0, Flask-SocketIO 5.3.5, Paramiko 3.4.0, SQLite
    * *æ ¸å¿ƒæ–‡ä»¶*: app.py (1602 è¡Œå•ä½“åº”ç”¨,åŒ…å«æ‰€æœ‰ä¸šåŠ¡é€»è¾‘)

* **ğŸ“‚ client**
    * *åŠŸèƒ½*: æœåŠ¡éƒ¨ç½²ä»£ç†,è¿è¡Œåœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šçš„è½»é‡çº§ HTTP æœåŠ¡
    * *èŒè´£*: æ¥æ”¶ backend çš„è¿œç¨‹æŒ‡ä»¤,åœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Šæ‰§è¡ŒæœåŠ¡éƒ¨ç½²ã€é‡å¯ã€åœæ­¢æ“ä½œ,ç®¡ç†æœåŠ¡è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸ,æä¾›è¿›ç¨‹çŠ¶æ€æŸ¥è¯¢æ¥å£,å®ç°ä¼˜é›…å…³é—­å’Œè·¨å¹³å°å…¼å®¹(Linux/Windows)
    * *æŠ€æœ¯æ ˆ*: Flask 3.0.0, subprocess(è¿›ç¨‹ç®¡ç†)
    * *æ ¸å¿ƒæ–‡ä»¶*: service_agent.py (247 è¡Œ,æä¾› 6 ä¸ª REST API ç«¯ç‚¹)
    * *ç›‘å¬ç«¯å£*: 8888 (å¯é…ç½®)

* **ğŸ“‚ frontend**
    * *åŠŸèƒ½*: Vue 3 å•é¡µåº”ç”¨,æä¾›å®Œæ•´çš„ Web ç®¡ç†ç•Œé¢
    * *èŒè´£*: å®ç° 8 ä¸ªæ ¸å¿ƒä¸šåŠ¡é¡µé¢ - æ€»è§ˆä»ªè¡¨æ¿ã€å“ç‰Œç®¡ç†ã€æ¨¡å‹ç®¡ç†ã€æœåŠ¡å™¨ç®¡ç†ã€æœåŠ¡ç®¡ç†ã€èŠå¤©æµ‹è¯•ã€è®¡åˆ’ä»»åŠ¡ç®¡ç†,é›†æˆ xterm.js å®ç°çš„ Web SSH ç»ˆç«¯,é€šè¿‡ Axios ä¸ backend é€šä¿¡,é€šè¿‡ Socket.IO å®ç°å®æ—¶ç»ˆç«¯äº¤äº’
    * *æŠ€æœ¯æ ˆ*: Vue 3.3.4, Ant Design Vue 4.0.0, Vue Router 4.2.5, Socket.IO Client 4.7.2, xterm.js 6.0.0
    * *æ ¸å¿ƒæ–‡ä»¶*:
        - src/api/index.js (140 è¡Œ,8 ä¸ª API æ¨¡å—å°è£…)
        - src/components/SshTerminal.vue (400 è¡Œ,SSH ç»ˆç«¯ç»„ä»¶)
        - src/views/ (8 ä¸ªé¡µé¢ç»„ä»¶)

* **ğŸ“‚ uploads**
    * *åŠŸèƒ½*: é™æ€æ–‡ä»¶å­˜å‚¨ç›®å½•
    * *èŒè´£*: å­˜å‚¨ç”¨æˆ·ä¸Šä¼ çš„å“ç‰Œ Logo å’Œæ¨¡å‹å›¾ç‰‡æ–‡ä»¶,é€šè¿‡ backend çš„ /api/uploads/<filename> ç«¯ç‚¹å¯¹å¤–æä¾›è®¿é—®
    * *æ–‡ä»¶ç±»å‹*: png, jpg, jpeg, gif, webp
    * *å‘½åç­–ç•¥*: UUID éšæœºå‘½åé˜²æ­¢å†²çª

## 3. æ¶æ„é€»è¾‘å›¾è§£

### 3.1 ç³»ç»Ÿä¸‰å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: Presentation Layer (å‰ç«¯å±•ç¤ºå±‚)                    â”‚
â”‚  frontend/ - Vue 3 SPA                                       â”‚
â”‚  - ç”¨æˆ·æä¾›äº¤äº’ç•Œé¢                                           â”‚
â”‚  - é€šè¿‡ HTTP API ä¸ backend é€šä¿¡                             â”‚
â”‚  - é€šè¿‡ WebSocket (Socket.IO) å®ç° SSH ç»ˆç«¯                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 2: Application Layer (åº”ç”¨é€»è¾‘å±‚)                     â”‚
â”‚  backend/ - Flask + SocketIO Server                          â”‚
â”‚  - ä¸­å¤®æ§åˆ¶èŠ‚ç‚¹,ç»´æŠ¤å…¨å±€çŠ¶æ€                                  â”‚
â”‚  - æä¾› RESTful API å¤„ç† CRUD æ“ä½œ                           â”‚
â”‚  - é€šè¿‡ Paramiko SSH è¿æ¥è¿œç¨‹æœåŠ¡å™¨                          â”‚
â”‚  - é€šè¿‡ HTTP è°ƒç”¨å„ä¸ª client agent                           â”‚
â”‚  - ä»£ç†èŠå¤©è¯·æ±‚åˆ°ç›®æ ‡æœåŠ¡                                    â”‚
â”‚  - ä½¿ç”¨ SQLite æŒä¹…åŒ–å…ƒæ•°æ®                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 3: Execution Layer (æ‰§è¡Œå±‚)                           â”‚
â”‚  client/ - Service Agent (è¿è¡Œåœ¨æ¯å°ç‰©ç†æœåŠ¡å™¨ä¸Š)             â”‚
â”‚  - ç›‘å¬ç«¯å£ 8888 æ¥æ”¶ backend æŒ‡ä»¤                           â”‚
â”‚  - åœ¨æœ¬åœ°æ‰§è¡ŒæœåŠ¡éƒ¨ç½²ã€é‡å¯ã€åœæ­¢                             â”‚
â”‚  - ç®¡ç†æœåŠ¡è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸ(subprocess)                          â”‚
â”‚  - æä¾›è¿›ç¨‹çŠ¶æ€æŸ¥è¯¢æ¥å£                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ ¸å¿ƒä¸šåŠ¡æµç¨‹

#### A. æœåŠ¡éƒ¨ç½²æµç¨‹
```
1. ç”¨æˆ·åœ¨ frontend é€‰æ‹©æ¨¡å‹ã€æœåŠ¡å™¨ã€é…ç½®éƒ¨ç½²å‚æ•°
   â†“
2. frontend è°ƒç”¨ POST /api/services
   â†“
3. backend åˆ›å»ºæœåŠ¡è®°å½•(deploy_status='deploying')
   â†“
4. backend å¯åŠ¨åå°éƒ¨ç½²çº¿ç¨‹
   â†“
5. éå†æ‰€æœ‰ç›®æ ‡æœåŠ¡å™¨,è°ƒç”¨ client agent:
   POST http://{server_ip}:8888/service/{service_id}/deploy
   â†“
6. client agent ä½¿ç”¨ subprocess.Popen å¯åŠ¨æœåŠ¡è¿›ç¨‹
   â†“
7. è¿”å› PID åˆ° backend
   â†“
8. backend èšåˆæ‰€æœ‰æœåŠ¡å™¨ç»“æœ,æ›´æ–° deploy_status='online'
   â†“
9. åå°çº¿ç¨‹è°ƒç”¨ update_service_status() åŒæ­¥çœŸå®è¿è¡ŒçŠ¶æ€
   â†“
10. frontend åˆ·æ–°æœåŠ¡åˆ—è¡¨,æ˜¾ç¤ºéƒ¨ç½²æˆåŠŸ
```

#### B. Web SSH ç»ˆç«¯æµç¨‹
```
1. ç”¨æˆ·åœ¨ frontend æ‰“å¼€ SshTerminal ç»„ä»¶(æœåŠ¡å™¨ç®¡ç†é¡µæˆ–æœåŠ¡èŠå¤©é¡µ)
   â†“
2. frontend å»ºç«‹WebSocketè¿æ¥: socket.io-client â†’ localhost:5000
   â†“
3. å‘é€ ssh_connect äº‹ä»¶(æºå¸¦ server_id, å¯é€‰ auto_command, service_id)
   â†“
4. backend ä½¿ç”¨ Paramiko å»ºç«‹ SSHv2 è¿æ¥åˆ°ç›®æ ‡æœåŠ¡å™¨
   â”œâ”€ å¦‚æœæ˜¯ä¸´æ—¶è¿æ¥: åˆ›å»ºæ–° SSH è¿æ¥å’Œæ–° channel
   â””â”€ å¦‚æœæ˜¯æŒä¹…åŒ–è¿æ¥: å¤ç”¨ service_ssh_connections ä¸­ç°æœ‰è¿æ¥,åˆ›å»ºæ–° channel
   â†“
5. backend å¯åŠ¨ ssh_receive_thread åå°çº¿ç¨‹,å¾ªç¯è¯»å– channel è¾“å‡º
   â†“
6. å®æ—¶åŒå‘æ•°æ®æµ:
   ç”¨æˆ·è¾“å…¥ â†’ frontend emit('ssh_input') â†’ backend å†™å…¥ channel
   channel è¾“å‡º â†’ ssh_receive_thread è¯»å– â†’ backend emit('ssh_output') â†’ frontend æ˜¾ç¤º
   â†“
7. ç”¨æˆ·å…³é—­æˆ–ç»„ä»¶å¸è½½ â†’ å‘é€ ssh_disconnect äº‹ä»¶
   â†“
8. backend æ¸…ç†ä¼šè¯èµ„æº(æŒä¹…åŒ–è¿æ¥ä¿ç•™ä¾›åç»­å¤ç”¨)
```

#### C. èŠå¤©æœåŠ¡ä»£ç†æµç¨‹
```
1. ç”¨æˆ·åœ¨ ServiceChat é¡µé¢å‘é€èŠå¤©æ¶ˆæ¯
   â†“
2. frontend è°ƒç”¨ POST /api/services/{service_id}/chat/completions
   (æ”¯æŒ stream=True å‚æ•°)
   â†“
3. backend éªŒè¯æœåŠ¡å­˜åœ¨æ€§,ä¿å­˜æ¶ˆæ¯åˆ° chat_history è¡¨
   â†“
4. backend ä»£ç†è¯·æ±‚åˆ°ç›®æ ‡æœåŠ¡å™¨:
   POST http://{server_ip}:8000/chat/completions
   â†“
5. ç›®æ ‡æœåŠ¡(å¦‚ LLM Inference Server)å¤„ç†è¯·æ±‚
   â†“
6. backend è½¬å‘å“åº”:
   â”œâ”€ éæµå¼: ç›´æ¥è¿”å› JSON
   â””â”€ æµå¼: ä½¿ç”¨ Flask Response ç”Ÿæˆå™¨è½¬å‘ SSE äº‹ä»¶æµ
   â†“
7. frontend æ¥æ”¶å“åº”,å®æ—¶æ¸²æŸ“åˆ°èŠå¤©ç•Œé¢
```

#### D. æœåŠ¡çŠ¶æ€åŒæ­¥æµç¨‹
```
1. ç”¨æˆ·è®¿é—®æœåŠ¡åˆ—è¡¨é¡µé¢
   â†“
2. frontend è°ƒç”¨ GET /api/services
   â†“
3. backend è§¦å‘åå°çº¿ç¨‹ update_service_status()
   â†“
4. éå†æ‰€æœ‰æœåŠ¡,è°ƒç”¨å¯¹åº”çš„ client agent:
   GET http://{server_ip}:8888/service/{service_id}/status
   â†“
5. client agent ä½¿ç”¨ process.poll() æ£€æŸ¥è¿›ç¨‹å­˜æ´»çŠ¶æ€
   â†“
6. è¿”å›çŠ¶æ€: running | stopped
   â†“
7. backend æ˜ å°„çŠ¶æ€åˆ°æ•°æ®åº“:
   agent_status='running' â†’ deploy_status='deployed'
   agent_status='stopped' â†’ deploy_status='online'(æœåŠ¡å™¨åœ¨çº¿ä½†æœåŠ¡æœªè¿è¡Œ)
   è¿æ¥å¤±è´¥ â†’ deploy_status='offline'
   â†“
8. frontend å±•ç¤ºæœ€æ–°çŠ¶æ€
```

#### E. èµ„æºç›‘æ§æµç¨‹
```
1. ç”¨æˆ·åœ¨æœåŠ¡å™¨ç®¡ç†é¡µç‚¹å‡»"æ£€æŸ¥èµ„æº"æˆ–"æ‰¹é‡æ£€æŸ¥"
   â†“
2. frontend è°ƒç”¨ POST /api/servers/resources (æ‰¹é‡) æˆ–
   GET /api/servers/{id}/resources (å•ä¸ª)
   â†“
3. backend ä½¿ç”¨ Paramiko æ‰§è¡Œè¿œç¨‹ shell å‘½ä»¤:
   - CPU: grep 'cpu ' /proc/stat | awk '{usage=($2+$4)*100/($2+$3+$4+$5)}'
   - Memory: free | grep Mem | awk '{printf "%.1f", $3/$2 * 100}'
   - Disk: df -h / | tail-1 | awk '{print $5}' | sed 's/%//'
   â†“
4. è§£æå‘½ä»¤è¾“å‡º,è®¡ç®—ä½¿ç”¨ç‡
   â†“
5. è¿”å› JSON æ•°æ®åˆ° frontend
   â†“
6. frontend ä½¿ç”¨å¡ç‰‡/è¿›åº¦æ¡å±•ç¤ºèµ„æºä½¿ç”¨æƒ…å†µ
```

### 3.3 æ•°æ®åº“æ¶æ„

backend ä½¿ç”¨ SQLite å­˜å‚¨å…ƒæ•°æ®,åŒ…å« 7 å¼ æ ¸å¿ƒè¡¨:

```
brands (å“ç‰Œè¡¨)
  â”œâ”€ id, name, logo, sort_order
  â””â”€ å…³è”åŠ é€Ÿå¡ (1:N)

accelerator_cards (åŠ é€Ÿå¡è§„æ ¼è¡¨)
  â”œâ”€ id, brand_id(FK), name, model
  â”œâ”€ fp8_perf, int8_perf, bf16_perf, fp16_perf, fp32_perf
  â””â”€ interconnect_bandwidth

models (AI æ¨¡å‹è¡¨)
  â”œâ”€ id, name, logo, parameters
  â””â”€ å…³è”æœåŠ¡ (1:N)

servers (ç‰©ç†æœåŠ¡å™¨è¡¨)
  â”œâ”€ id, name, host_ip, port, username, password
  â”œâ”€ brand_id(FK), model_id(FK)
  â”œâ”€ agent_port(é»˜è®¤ 8888)
  â””â”€ status, last_check

services (éƒ¨ç½²æœåŠ¡è¡¨)
  â”œâ”€ id, name, model_id(FK), server_ids(JSON)
  â”œâ”€ deploy_command, deploy_status, deploy_result(JSON)
  â””â”€ å…³è”èŠå¤©è®°å½• (1:N)

chat_history (èŠå¤©è®°å½•è¡¨)
  â”œâ”€ service_id(FK), role, content
  â””â”€ created_at

tasks (è®¡åˆ’ä»»åŠ¡è¡¨)
  â”œâ”€ name, command, server_id(FK)
  â”œâ”€ schedule_type, status
  â””â”€ result(JSON)
```

### 3.4 æ¨¡å—é—´é€šä¿¡æœºåˆ¶

| é€šä¿¡å¯¹ | åè®® | ç«¯å£ | ç”¨é€” |
|--------|------|------|------|
| frontend â†’ backend | HTTP (REST) | 5000 | CRUD æ“ä½œã€æ–‡ä»¶ä¸Šä¼ ã€çŠ¶æ€æŸ¥è¯¢ |
| frontend â†” backend | WebSocket (Socket.IO) | 5000 | SSH ç»ˆç«¯å®æ—¶åŒå‘é€šä¿¡ |
| backend â†’ client | HTTP (REST) | 8888 | éƒ¨ç½²ã€é‡å¯ã€åœæ­¢æœåŠ¡ã€æŸ¥è¯¢çŠ¶æ€ |
| backend â†’ ç›®æ ‡æœåŠ¡å™¨ | SSHv2 (Paramiko) | 22 | æ‰§è¡Œè¿œç¨‹å‘½ä»¤ã€èµ„æºç›‘æ§ |
| frontend â†’ ç›®æ ‡æœåŠ¡ | HTTP (ä»£ç†) | 8000 | èŠå¤©å®Œæˆæ¥å£(é€šè¿‡ backend ä»£ç†) |

### 3.5 å…³é”®æŠ€æœ¯ç‰¹æ€§

**Backend ç‰¹æ€§**:
- å•ä½“åº”ç”¨è®¾è®¡: æ‰€æœ‰é€»è¾‘é›†ä¸­åœ¨ app.py,ç®€åŒ–éƒ¨ç½²
- SSH è¿æ¥å¤ç”¨: åŒä¸€æœåŠ¡çš„å¤šä¸ª WebSocket ä¼šè¯å…±äº«ä¸€ä¸ª SSH è¿æ¥
- å¼‚æ­¥çŠ¶æ€æ›´æ–°: æœåŠ¡åˆ—è¡¨æ¥å£è§¦å‘åå°çº¿ç¨‹,ä¸é˜»å¡å“åº”
- æµå¼å“åº”æ”¯æŒ: èŠå¤©æ¥å£æ”¯æŒ SSE æµå¼è¾“å‡º,é™ä½é¦–å­—å»¶è¿Ÿ
- å¹‚ç­‰æ€§è¿ç§»: æ•°æ®åº“ schema åŠ¨æ€æ·»åŠ åˆ—,æ•è· OperationalError

**Client ç‰¹æ€§**:
- è½»é‡çº§è®¾è®¡: ä»…ä¾èµ– Flask,æ— é¢å¤–åŸºç¡€è®¾æ–½
- è¿›ç¨‹ç»„ç®¡ç†: Linux ä¸Šä½¿ç”¨ os.setsid åˆ›å»ºæ–°ä¼šè¯,ç¡®ä¿å­è¿›ç¨‹è¢«æ­£ç¡®ç»ˆæ­¢
- ä¼˜é›…å…³é—­: SIGTERM â†’ ç­‰å¾… 5 ç§’ â†’ SIGKILL ä¸¤é˜¶æ®µç»ˆæ­¢
- è·¨å¹³å°å…¼å®¹: è‡ªåŠ¨æ£€æµ‹ os.name,ä½¿ç”¨ä¸åŒ API (posix/nt)
- ç¯å¢ƒå˜é‡éš”ç¦»: ç¡®ä¿å­è¿›ç¨‹ç»§æ‰¿å®Œæ•´ç³»ç»Ÿ PATH

**Frontend ç‰¹æ€§**:
- ç»„ä»¶åŒ–æ¶æ„: é¡µé¢ç»„ä»¶ã€ä¸šåŠ¡ç»„ä»¶ã€API å±‚æ¸…æ™°åˆ†ç¦»
- å®æ—¶äº¤äº’: åŸºäº Socket.IO çš„åŒå‘äº‹ä»¶é©±åŠ¨é€šä¿¡
- ç»ˆç«¯æ¨¡æ‹Ÿ: xterm.js æä¾›å®Œæ•´çš„ ANSI è½¬ä¹‰åºåˆ—æ”¯æŒ
- æ‹–æ‹½æ’åº: vuedraggable å®ç°å“ç‰Œå¯è§†åŒ–æ’åº
- å“åº”å¼è®¾è®¡: Ant Design Grid ç³»ç»Ÿé€‚é…å¤šç»ˆç«¯

### 3.6 éƒ¨ç½²æ¶æ„

```
å¼€å‘ç¯å¢ƒ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  frontend (npm run serve)           â”‚
â”‚  - localhost:8080                   â”‚
â”‚  - vue.config.js ä»£ç† /api â†’ 5000   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  backend (python app.py)            â”‚
â”‚  - localhost:5000                   â”‚
â”‚  - SQLite: ../datasets/infini.db    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  client (python service_agent.py)   â”‚
â”‚  - ç‰©ç†æœåŠ¡å™¨ 1: 192.168.1.100:8888 â”‚
â”‚  - ç‰©ç†æœåŠ¡å™¨ 2: 192.168.1.101:8888 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç”Ÿäº§ç¯å¢ƒ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Nginx åå‘ä»£ç†                      â”‚
â”‚  - / â†’ frontend é™æ€æ–‡ä»¶             â”‚
â”‚  - /api â†’ backend:5000              â”‚
â”‚  - /socket.io â†’ backend:5000        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**æ€»ç»“**: `infiniStudio-main` æ˜¯ä¸€ä¸ªè®¾è®¡æ¸…æ™°çš„ä¸‰å±‚åˆ†å¸ƒå¼ç³»ç»Ÿ,é€šè¿‡å‰åç«¯åˆ†ç¦»æ¶æ„å’Œ agent æ¨¡å¼å®ç°äº†å¯¹å¤šå°ç‰©ç†æœåŠ¡å™¨ä¸Š AI æ¨¡å‹æœåŠ¡çš„ç»Ÿä¸€ç®¡ç†ã€‚backend ä½œä¸ºä¸­å¤®æ§åˆ¶èŠ‚ç‚¹åè°ƒæ‰€æœ‰æ“ä½œ,client agent åœ¨å„å°æœåŠ¡å™¨ä¸Šæ‰§è¡Œå…·ä½“çš„æœåŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†,frontend æä¾›å‹å¥½çš„ Web ç•Œé¢ã€‚ç³»ç»Ÿé‡‡ç”¨è½»é‡çº§æŠ€æœ¯æ ˆ,æ˜“äºéƒ¨ç½²å’Œæ‰©å±•,é€‚åˆä¸­å°è§„æ¨¡çš„ AI æ¨¡å‹æœåŠ¡ç®¡ç†åœºæ™¯ã€‚
